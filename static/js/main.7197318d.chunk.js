(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,a,t){e.exports=t(41)},23:function(e,a,t){e.exports={colorBlack:"black",creamYellow:"#ffee70"}},26:function(e,a,t){},27:function(e,a,t){e.exports={colorBlack:"black",creamYellow:"#ffee70"}},28:function(e,a,t){e.exports={colorBlack:"black",creamYellow:"#ffee70"}},31:function(e,a,t){e.exports={colorBlack:"black",creamYellow:"#ffee70"}},38:function(e,a,t){e.exports={colorBlack:"black",creamYellow:"#ffee70"}},39:function(e,a,t){e.exports={colorBlack:"black",creamYellow:"#ffee70"}},41:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),o=t(12),i=t.n(o),c=t(6),l=(t(23),t(7)),s=t.n(l),m=t(8),u=[{name:"Movie",exportName:"movie"},{name:"TV Movie",exportName:"tvMovie"},{name:"Series",exportName:"tvSeries"},{name:"Mini Series",exportName:"tvMiniSeries"},{name:"Episode",exportName:"tvEpisode"},{name:"Video",exportName:"video"},{name:"Short",exportName:"short"},{name:"TV Short",exportName:"tvShort"},{name:"TV Special",exportName:"tvSpecial"},{name:"Video Game",exportName:"videoGame"}],p="***";function d(e){return f.apply(this,arguments)}function f(){return(f=Object(m.a)(s.a.mark(function e(a){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(a);case 2:return t=e.sent,e.abrupt("return",v(t));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e){return new Promise(function(a,t){var n=new FileReader;n.onloadend=function(e){var t=e.target.result;a(t)},n.onerror=function(e){t(e)},n.readAsText(e,"Windows-1252")})}function v(e){var a=function(e){return function(e){return e.replace("Const,","id,").replace("Your Rating,","rating,").replace("Title,","title,").replace("Date Rated,","dateRatedString,").replace("Genres,","genres,").replace("Title Type,","mediaType,").replace("Directors,","directors,").replace("Num Votes,","votes,").replace("Runtime (mins),","runtime,").replace("Release Date,","releaseDate,").replace("URL,","url,").replace("Year,","year,").replace("Directors,","directors,").replace("IMDb Rating,","imdbRating,")}(e).replace(/"[^"]+"/g,function(e){return e.replace(/,/g,"###")}).replace(/,/g,p).replace(/###/g,",").replace(/"/g,"")}(e).split("\n");console.log(a[0]);var t,n=[],r=a[0].split(p);return a.map(function(e,a){if(a<1)return n;var t={},o=e.split(p);return r.map(function(e,a){return t[e]=o[a],t}),n.push(t),n}),n.pop(),(t=n).map(function(e){var a=u.findIndex(function(a){return a.exportName===e.mediaType});return e.rating=parseInt(e.rating),e.runtime=parseInt(e.runtime),e.votes=parseInt(e.votes),e.year=parseInt(e.year),e.imdbRating=parseFloat(e.imdbRating),e.dateRated=new Date(e.dateRatedString),e.mediaTypeId=a,e.mediaType=u[a].name,e}),n=t,console.log(n),n}var b=t(16);var h=function(e){var a=Object(b.a)(new Set(e.map(function(e){return e.mediaTypeId})));return a=a.sort()},E=(t(26),function(e){var a=e.setLoaded,t=e.setRatings,n=e.setLoadedMediaTypes,o=function(){var e=Object(m.a)(s.a.mark(function e(){var r,o,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=document.getElementById("fileUpload").files[0],e.next=3,d(r);case 3:o=e.sent,i=h(o),console.log(i),t(o),n(i),a(!0),sessionStorage.setItem("ratings",JSON.stringify(o)),sessionStorage.setItem("mediaTypes",i);case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"uploader"},r.a.createElement("h1",null,"Upload IMDb Ratings CSV"),r.a.createElement("input",{type:"file",id:"fileUpload",onChange:o}))}),y=(t(27),function(){return r.a.createElement("div",{className:"title-bar"},r.a.createElement("span",{className:"app-name"},"IMDb Ratings Visualizer"))}),w=(t(28),t(42)),x=t(15),N=(t(31),function(e){var a=e.ratings,t=r.a.createElement("span",null,r.a.createElement("span",{style:{verticalAlign:"middle"}},"Next"),r.a.createElement("i",{className:"material-icons pagination-icon"},"keyboard_arrow_right")),n=r.a.createElement("span",null,r.a.createElement("i",{className:"material-icons pagination-icon left-pagination-icon"},"keyboard_arrow_left"),r.a.createElement("span",null,"Previous"));return r.a.createElement(x.a,{data:a,columns:[{Header:"ID",accessor:"id"},{Header:"Title",accessor:"title"},{Header:"Rating",accessor:"rating"},{Header:"Type",accessor:"mediaType"},{Header:"Date Rated",accessor:"dateRatedString"},{Header:"Genres",accessor:"genres"}],className:"-striped -highlight main-component",defaultSorted:[{id:"rating",desc:!0}],defaultPageSize:50,pageSizeOptions:[5,10,20,25,50,100,250,1e3],nextText:t,previousText:n,minRows:0})}),k=t(13),S=t.n(k),R=["#FF355E","#FD5B78","#FF6037","#FF9933","#FFCC33","#FFFF66","#CCFF00","#66FF66","#50BFE6","#FF00CC"],T=function(e){var a=e.ratingsData,t=e.ratingsCount,n={colors:R,plotOptions:{bar:{dataLabels:{position:"top"},distributed:!0,colors:{backgroundBarOpacity:1}}},dataLabels:{enabled:!0,formatter:function(e){return Math.round(e/t*100)+"%"},style:{fontSize:"12px",colors:["#ffffff"]}},xaxis:{categories:["1","2","3","4","5","6","7","8","9","10"],labels:{style:{colors:R}}},title:{text:"Ratings per Stars",floating:!0,align:"center",style:{color:"#ffffff"}},tooltip:{x:{show:!1}},grid:{show:!1},chart:{toolbar:{tools:{download:!1}}}},o=[{name:"Ratings",data:a}];return r.a.createElement("div",{className:"chart-container"},r.a.createElement(S.a,{options:n,series:o,type:"bar",height:"350",width:"600"}))},F=(t(38),function(e){var a=e.ratings,t=e.ratingsCount,n=(a.reduce(function(e,a){return e+(a.rating||0)},0)/t).toFixed(1);return r.a.createElement("div",{className:"chart-container"},r.a.createElement("div",null,r.a.createElement("div",{className:"key-description"},"Total Ratings"),r.a.createElement("div",{className:"key-number"},t)),r.a.createElement("div",null,r.a.createElement("div",{className:"key-description"},"Average Rating"),r.a.createElement("div",{className:"key-number"},n)))}),O=(t(39),function(e){for(var a=e.map(function(e){return e.rating}),t={1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},n=0;n<a.length;n++){var r=a[n];t[r]=t[r]?t[r]+1:1}console.log(t);for(var o=[],i=1;i<=10;i++)o.push(t[i]);return console.log(o),o}),I=[{name:"Dashboard",icon:"bubble_chart",path:"/",component:function(e){var a=e.ratings,t=a.length;return r.a.createElement("div",null,r.a.createElement("div",{className:"main-component",style:{height:"384px"}},r.a.createElement(F,{ratings:a,ratingsCount:t}),r.a.createElement(T,{ratingsData:O(a),ratingsCount:t})))}},{name:"Ratings",icon:"list",path:"/ratings",component:N}],j=function(){var e=Object(n.useState)(function(e){console.log(e);var a=e.find(function(e){return console.log("route.path =>",e.path),console.log("window.location.pathname =>",window.location.pathname),e.path===window.location.pathname});return console.log("current Route =>",a),a.name}(I)),a=Object(c.a)(e,2),t=a[0],o=a[1];return I?r.a.createElement("div",null,I.map(function(e){return r.a.createElement("div",{key:e.name},r.a.createElement(w.a,{to:e.path,className:"sidebar-link"},r.a.createElement("div",{className:(a=e.name,t===a?"active-tab":"")},r.a.createElement("div",{onClick:function(){return o(e.name)},className:"sidebar-box"},r.a.createElement("i",{className:"material-icons sidebar-icon"},e.icon),r.a.createElement("span",{className:"sidebar-text"},e.name)))));var a})):"Loading"},M=function(e){var a=e.id,t=e.name,n=e.checked,o=e.onChange;return r.a.createElement("label",{className:"filter-checkbox-label"},r.a.createElement("input",{type:"checkbox",className:"custom-checkbox",value:a,name:t,checked:n,onChange:o}),t)},C=function(e){var a=e.loadedMediaTypes,t=e.filterMovies,o=a.map(function(e){return[e,!0]}),i=Object(n.useState)(1),l=Object(c.a)(i,2),s=l[0],m=l[1],p=Object(n.useState)(new Map(o)),d=Object(c.a)(p,2),f=d[0],g=d[1],v=function(e){var a=parseInt(e.target.value),n=e.target.checked;g(f.set(a,n)),m(s+1),t(f)};return r.a.createElement("div",{className:"sidebar"},r.a.createElement(j,null),r.a.createElement("div",null,r.a.createElement("h3",{className:"filter-heading"},"Filter"),f?a.map(function(e){return r.a.createElement(M,{key:e,id:e,name:u[e].name,checked:f.get(e),onChange:v})}):"loading"))},D=t(43),B=t(44),L=function(e){var a=e.ratings,t=e.loadedMediaTypes,o=Object(n.useState)(a),i=Object(c.a)(o,2),l=i[0],s=i[1],m=I.map(function(e){var a=e.path,t=e.component,n=e.name;return r.a.createElement(B.a,{exact:!0,path:a,render:function(){return r.a.createElement(t,{ratings:l})},key:n})});return r.a.createElement("div",null,r.a.createElement(C,{loadedMediaTypes:t,filterMovies:function(e){var t=a.filter(function(a){return!0===e.get(a.mediaTypeId)});s(t)}}),m)},V=function(){var e=Object(n.useState)(!1),a=Object(c.a)(e,2),t=a[0],o=a[1],i=Object(n.useState)(),l=Object(c.a)(i,2),s=l[0],m=l[1],u=Object(n.useState)(),p=Object(c.a)(u,2),d=p[0],f=p[1];return Object(n.useEffect)(function(){if(!t){var e=sessionStorage.getItem("ratings");e&&(console.log(JSON.parse(e)),m(JSON.parse(e)),f(sessionStorage.getItem("mediaTypes").split(",").map(function(e){return parseInt(e)})),o(!0))}}),r.a.createElement("div",{className:"App"},r.a.createElement(y,null),r.a.createElement("div",{className:"main-content"},t?r.a.createElement(D.a,null,r.a.createElement(L,{ratings:s,loadedMediaTypes:d})):r.a.createElement(E,{setLoaded:o,setRatings:m,setLoadedMediaTypes:f})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.7197318d.chunk.js.map