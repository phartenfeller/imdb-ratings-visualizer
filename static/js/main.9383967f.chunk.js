(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a(39)},22:function(e,t,a){e.exports={colorBlack:"black",creamYellow:"#ffee70"}},25:function(e,t,a){},26:function(e,t,a){e.exports={colorBlack:"black",creamYellow:"#ffee70"}},27:function(e,t,a){e.exports={colorBlack:"black",creamYellow:"#ffee70"}},30:function(e,t,a){e.exports={colorBlack:"black",creamYellow:"#ffee70"}},37:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(12),c=a.n(i),o=a(7),s=(a(22),a(6)),l=a.n(s),u=a(8),m="***";function p(e){return d.apply(this,arguments)}function d(){return(d=Object(u.a)(l.a.mark(function e(t){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t);case 2:return a=e.sent,e.abrupt("return",g(a));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){return new Promise(function(t,a){var n=new FileReader;n.onloadend=function(e){var a=e.target.result;t(a)},n.onerror=function(e){a(e)},n.readAsText(e,"Windows-1252")})}function g(e){var t=function(e){return function(e){return e.replace("Const,","id,").replace("Your Rating,","rating,").replace("Title,","title,").replace("Date Rated,","dateRatedString,").replace("Genres,","genres,").replace("Title Type,","titleType,").replace("Directors,","directors,").replace("Num Votes,","votes,").replace("Runtime (mins),","runtime,").replace("Release Date,","releaseDate,").replace("URL,","url,").replace("Year,","year,").replace("Directors,","directors,").replace("IMDb Rating,","imdbRating,")}(e).replace(/"[^"]+"/g,function(e){return e.replace(/,/g,"###")}).replace(/,/g,m).replace(/###/g,",").replace(/"/g,"")}(e).split("\n");console.log(t[0]);var a,n=[],r=t[0].split(m);return t.map(function(e,t){if(t<1)return n;var a={},i=e.split(m);return r.map(function(e,t){return a[e]=i[t],a}),n.push(a),n}),n.pop(),(a=n).map(function(e){return e.rating=parseInt(e.rating),e.runtime=parseInt(e.runtime),e.votes=parseInt(e.votes),e.year=parseInt(e.year),e.imdbRating=parseFloat(e.imdbRating),e.dateRated=new Date(e.dateRatedString),e}),n=a,console.log(n),n}a(25);var v=function(e){var t=e.setLoaded,a=e.setRatings,n=function(){var e=Object(u.a)(l.a.mark(function e(){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=document.getElementById("fileUpload").files[0],e.next=3,p(n);case 3:r=e.sent,a(r),t(!0),sessionStorage.setItem("ratings",JSON.stringify(r));case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"uploader"},r.a.createElement("h1",null,"Upload IMDb Ratings CSV"),r.a.createElement("input",{type:"file",id:"fileUpload",onChange:n}))},b=(a(26),function(){return r.a.createElement("div",{className:"title-bar"},r.a.createElement("span",{className:"app-name"},"IMDb Ratings Visualizer"))}),E=(a(27),a(40)),h=a(15),w=(a(30),function(e){var t=e.ratings,a=r.a.createElement("span",null,r.a.createElement("span",{style:{verticalAlign:"middle"}},"Next"),r.a.createElement("i",{className:"material-icons pagination-icon"},"keyboard_arrow_right")),n=r.a.createElement("span",null,r.a.createElement("i",{className:"material-icons pagination-icon left-pagination-icon"},"keyboard_arrow_left"),r.a.createElement("span",null,"Previous"));return r.a.createElement(h.a,{data:t,columns:[{Header:"ID",accessor:"id"},{Header:"Title",accessor:"title"},{Header:"Rating",accessor:"rating"},{Header:"Type",accessor:"titleType"},{Header:"Date Rated",accessor:"dateRatedString"},{Header:"Genres",accessor:"genres"}],className:"-striped -highlight main-component",defaultSorted:[{id:"rating",desc:!0}],defaultPageSize:50,pageSizeOptions:[5,10,20,25,50,100,250,1e3],nextText:a,previousText:n,minRows:0})}),y=a(13),x=a.n(y),R=(a(37),["#FF355E","#FD5B78","#FF6037","#FF9933","#FFCC33","#FFFF66","#CCFF00","#66FF66","#50BFE6","#FF00CC"]),F=function(e){for(var t=e.map(function(e){return e.rating}),a={1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0},n=0;n<t.length;n++){var r=t[n];a[r]=a[r]?a[r]+1:1}console.log(a);for(var i=[],c=1;c<=10;c++)i.push(a[c]);return console.log(i),i},k=function(e){var t=e.ratingsData,a=e.ratingsCount,n={colors:R,plotOptions:{bar:{dataLabels:{position:"top"},distributed:!0}},dataLabels:{enabled:!0,formatter:function(e){return Math.round(e/a*100)+"%"},offsetY:-20,style:{fontSize:"12px",colors:["#ffffff"]}},xaxis:{categories:["1","2","3","4","5","6","7","8","9","10"],labels:{style:{colors:R}},tooltip:{enabled:!0}},yaxis:{axisBorder:{show:!1},axisTicks:{show:!1}},title:{text:"Ratings per Stars",floating:!0,align:"center",style:{color:"#ffffff"}}},i=[{name:"Ratings",data:t}];return r.a.createElement("div",{className:"chart-container"},r.a.createElement(x.a,{options:n,series:i,type:"bar",height:"350",width:"600"}))},N=[{name:"Dashboard",icon:"bubble_chart",path:"/",component:function(e){var t=e.ratings;return r.a.createElement("div",null,r.a.createElement("div",{className:"main-component"},"Dashboard...",r.a.createElement(k,{ratingsData:F(t),ratingsCount:t.length})))}},{name:"Ratings",icon:"list",path:"/ratings",component:w}];var D=function(){var e=Object(n.useState)(N.find(function(e){return e.path===window.location.pathname}).name),t=Object(o.a)(e,2),a=t[0],i=t[1];return N?r.a.createElement("div",null,N.map(function(e){return r.a.createElement("div",{key:e.name},r.a.createElement(E.a,{to:e.path,className:"sidebar-link"},r.a.createElement("div",{className:(t=e.name,console.log("isActive =>",t),a===t?"active-tab":"")},r.a.createElement("div",{onClick:function(){return i(e.name)},className:"sidebar-box"},r.a.createElement("i",{className:"material-icons sidebar-icon"},e.icon),r.a.createElement("span",{className:"sidebar-text"},e.name)))));var t})):"Loading"},S=function(){return r.a.createElement("div",{className:"sidebar"},r.a.createElement(D,null))},O=a(41),C=a(42),I=function(e){var t=e.ratings,a=N.map(function(e){var a=e.path,n=e.component,i=e.name;return r.a.createElement(C.a,{exact:!0,path:a,render:function(){return r.a.createElement(n,{ratings:t})},key:i,ratings:t})});return r.a.createElement("div",null,r.a.createElement(S,null),a)},T=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)(),s=Object(o.a)(c,2),l=s[0],u=s[1];return Object(n.useEffect)(function(){if(!a){var e=sessionStorage.getItem("ratings");e&&(u(JSON.parse(e)),i(!0))}}),r.a.createElement("div",{className:"App"},r.a.createElement(b,null),r.a.createElement("div",{className:"main-content"},a?r.a.createElement(O.a,null,r.a.createElement(I,{ratings:l})):r.a.createElement(v,{setLoaded:i,setRatings:u})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,1,2]]]);
//# sourceMappingURL=main.9383967f.chunk.js.map